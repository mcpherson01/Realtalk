{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8b1a68f5385ab611cca9","webpack:///./src/js/HighWayPro.js","webpack:///./src/js/components/UrlPicker.js","webpack:///./src/js/components/AddShortUrlButtonCentral.js","webpack:///./src/js/domain/urlPicker/UrlPickerReceiver.js","webpack:///./src/js/events.js","webpack:///external \"React\"","webpack:///./src/js/components/gutenberg/AddShortUrlButton.js","webpack:///./src/js/domain/urlPicker/GutenbergTextBlockUrlPickerReceiver.js","webpack:///./src/js/postPicker.js","webpack:///./src/js/metabox/UrlPostMetaBoxManager.js","webpack:///./src/js/components/classic/AddShortUrlButton.js","webpack:///./node_modules/classnames/index.js","webpack:///./src/js/utilities/delay.js","webpack:///./src/images/delete.svg","webpack:///./src/js/domain/urlPicker/ClassicTextBlockUrlPickerReceiver.js","webpack:///./src/js/HighWayProApp.js","webpack:///./src/images/logo.svg"],"names":["ClassicAddShortUrlButton","require","default","GutenbergAddShortUrlButton","HighWayProApp","gutenbergIsEnabled","window","ReactDOM","HighWayPro","state","urlPickerReceiver","jQuery","document","ready","initialize","bind","instance","tinymce","register","UrlPostMetaBoxManager","newState","propertiesChanged","name","push","callChangeEvents","event","property","eventName","EVENTS","CHANGE","toUpperCase","Events","call","STATE_CHANGE_EVENT","URLPICKERRECEIVER","wp","Component","getComponent","$","createElement","getCreateElement","UrlPicker","cache","urls","initialState","isLoading","currentNavigationUrlIndex","assignedUrl","fetchingUrl","isFetchingSearchedUrls","searchText","isOpened","isOpening","isClosed","isClosing","Object","assign","classes","withUrls","urlPicker","addEventListener","handleOutsideClick","props","isOpen","lastUrlPickerReceiver","reset","open","setUrlIfItHasOne","close","classnames","position","handleTransitionEnd","coordinates","HighWayProPostEditor","text","enterUrlToSearch","handleSearchInput","handleNavigation","hasUrls","getAssignedUrlItem","getItems","map","getUrlItem","url","hasAssignedUrl","noUrls","title","message","options","assigned","id","activeUrl","handleClick","finalUrl","setState","handleDesiredUrlHasBeenSelected","target","value","delay","fetchSearchedForUrls","ajax","method","postUrl","data","action","path","JSON","stringify","filters","limit","dataType","beforeSend","success","handleReceivedUrls","error","console","log","response","NAVIGATION_KEYS","includes","key","preventDefault","newNavigationIndex","length","setId","customAllowableClicableElement","wasClickedOutsidePickerWindow","closest","allowedClickableElement","closeInactive","extra","then","setTimeout","linkId","parseInt","getId","cachedUrl","find","setAssignedUrl","fetchUrl","handleReceivedUrl","forceUpdate","WIDTH","AddShortUrlButtonCentral","selection","getSelection","type","toLowerCase","top","left","range","getRangeAt","getBoundingClientRect","scrollX","width","calculateViewableLeftCoordinates","scrollY","height","windowWidth","elementGetsOutOfTheviewPortRight","elementGetsOutOfTheviewPortLeft","TAG_NAME","TITLE","CLASSES","ATTRIBUTES","UrlPickerReceiver","Error","handleNewId","events","filter","forEach","handler","element","Fragment","richText","registerFormatType","unregisterFormatType","RichTextToolbarButton","editor","AddShortUrlButton","addUrl","isActive","origin","openOrigin","GutenbergTextBlockUrlPickerReceiver","getCurrentCoordinates","openFromClick","applyFormat","toggleFormat","onChange","NAME","attributes","tagName","className","edit","addShortUrlButton","activeAttributes","handleNewIdReceived","main","pathField","finalUrlPath","stats","number","elements","get","updatePath","statsNumber","performStatsRequest","fixedPath","replace","val","updateFinalUrl","children","getUrlId","setClicksValue","handleSuccessfulStatsResponse","attr","statistics","count","allTime","React","on","handleEditorWasClicked","ClassicTextBlockUrlPickerReceiver","isCustomAllowableClicableElement","optionalLinkElement","linkElement","$target","hasClass","contents","unwrap","execCommand","editorContainer","getContainer","editorElement","tinymcePosition","offset","toolbarPosition","first","nodePosition","getNode","textareaTop","textareaLeft","getRng","getClientRects","css","lineHeight","innerHeight","scrollTop","PluginManager","add","addCommand","handleAddButtonWasCliked","addButton","image","pluginURI","cmd","onpostrender","appendTo","render","getElementById","fn","ms","timer","clearTimeout","args","BlockControls"],"mappings":"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","file":"js/postPicker.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NelioBlocks\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"NelioBlocks\"] = factory(root[\"React\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8b1a68f5385ab611cca9","import { Events } from './events';\nimport { UrlPostMetaBoxManager } from './metabox/UrlPostMetaBoxManager';\nimport { HighWayProApp } from './HighWayProApp';\n\nconst ClassicAddShortUrlButton = require('./components/classic/AddShortUrlButton').default;\n\nconst GutenbergAddShortUrlButton = HighWayProApp.gutenbergIsEnabled()? require('./components/gutenberg/AddShortUrlButton').default : {};\n\nconst { ReactDOM } = window;\n\nexport class HighWayPro\n{\n    state = {\n        urlPickerReceiver: null\n    };\n\n    static EVENTS = {\n        CHANGE: {\n            URLPICKERRECEIVER: 'HighWayPro.state.change.urlPickerReceiver'\n        }\n    };\n\n    constructor() \n    {\n        jQuery(document).ready(this.initialize.bind(this));\n    }\n\n    initialize() \n    {\n        HighWayPro.instance = this;\n\n        if (window.tinymce) {\n            ClassicAddShortUrlButton.register();\n        }\n\n        if (HighWayProApp.gutenbergIsEnabled()) {\n            GutenbergAddShortUrlButton.register();\n        }\n\n        new UrlPostMetaBoxManager;\n    }\n\n    changeState(newState) \n    {\n        let propertiesChanged = [];\n\n        for (let name in newState) {\n            propertiesChanged.push(name);\n            this.state[name] = newState[name];\n        }\n\n        this.callChangeEvents(propertiesChanged);\n    }\n\n    callChangeEvents(propertiesChanged) \n    {\n        let event = {\n            newState: this.state,\n            propertiesChanged: propertiesChanged\n        };\n\n        for (let property of propertiesChanged) {\n            let eventName = HighWayPro.EVENTS.CHANGE[property.toUpperCase()];\n\n            eventName && Events.call(eventName, event);\n        }\n\n        Events.call(\n            HighWayPro.STATE_CHANGE_EVENT,\n            event\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/HighWayPro.js","import classnames from 'classnames';\n\nimport { HighWayProApp } from '../HighWayProApp';\nimport { UrlPickerReceiver } from '../domain/urlPicker/UrlPickerReceiver';\nimport { delay } from '../utilities/delay';\nimport DeleteIcon from '../../images/delete.svg';\n\nconst { wp } =  window;\nconst Component = HighWayProApp.getComponent();\nconst $ = jQuery;\n\nconst createElement = HighWayProApp.getCreateElement();\n\nexport class UrlPicker extends Component\n{\n    cache = {\n        urls: [\n            /*{\n                name: 'HostGator Promo Link',\n                finalUrl: 'neblabs.com/go/hostgator-promo',\n                id: 1\n            },\n            {\n                name: 'Corebox - Premium Modern WordPress Magazine/Blog/News Theme | Best of 2018',\n                finalUrl: 'neblabs.com/p/98765986',\n                id: 2\n            },\n            {\n                name: 'HostGator Promo Link',\n                finalUrl: 'neblabs.com/go/hostgator-promo',\n                id: 3\n            }*/\n        ]\n    }\n    initialState = {\n        urls: [\n        ],\n        isLoading: false,\n        currentNavigationUrlIndex: null,\n        assignedUrl: null,\n\n        fetchingUrl: false,\n        isFetchingSearchedUrls: false,\n        searchText: '',\n\n        isOpened: false,\n        isOpening: false,\n        isClosed: true,\n        isClosing: false\n    };\n\n    state = Object.assign({}, this.initialState);\n\n    \n\n    classes = {\n        withUrls: '--hwpro-with-results',\n        urlPicker: 'hwpro-url-picker'\n    };\n\n    componentDidMount() \n    {\n        document.addEventListener('click', this.handleOutsideClick.bind(this));\n    }\n\n    componentDidUpdate() \n    {\n        if (this.props.isOpen) {\n            if (this.props.urlPickerReceiver != this.state.lastUrlPickerReceiver) {\n                this.reset({\n                    isClosed: false,\n                    isOpened: true\n                });\n            }            \n            this.open();\n            this.setUrlIfItHasOne();\n        } else if (!this.props.isOpen) {\n            this.close();\n        }\n    }\n\n    render() \n    {\n        return (\n            <div \n                className={`${this.classes.urlPicker} ${classnames({\n                    'hwpro--isOpened': this.state.isOpened,\n                    'hwpro--isOpening': this.props.isOpen,\n                    'hwpro--isClosing': !this.props.isOpen,\n                    'hwpro--isClosed': this.state.isClosed,\n                    'hwpro--Left': this.props.position === 'left'                    \n                })}`}\n                onTransitionEnd={this.handleTransitionEnd.bind(this)}\n                style={this.props.coordinates}\n            >\n                {\n                    this.state.fetchingUrl? (\n                        <div className=\"hwpro-searching\">\n                            <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n                        </div>\n                    ) : (\n                        <React.Fragment>\n                            <input type=\"search\" className=\"hwpro-search\" placeholder={window.HighWayProPostEditor.text.urlPicker.enterUrlToSearch} value={this.state.searchText} onChange={this.handleSearchInput.bind(this)} onKeyDown={this.handleNavigation.bind(this)}/>   \n                            <ul className={`hwpro-url-picker-results ${this.hasUrls()? this.classes.withUrls : '' }`}>\n                                {this.getAssignedUrlItem()}\n                                {this.getItems()}\n                            </ul>\n                        </React.Fragment>\n                    )\n                }\n            </div>\n        );\n    }\n\n    getItems() \n    {\n        if (this.state.isFetchingSearchedUrls) {\n            return (<div className=\"hwpro-searching\">\n                        <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n                    </div>);\n        }\n\n        if (this.hasUrls()) {\n            return this.state.urls.map(url => this.getUrlItem(url));\n        }\n\n        // finally, no assigned url and no url items to show...\n        if (!this.hasAssignedUrl()) {\n            return (\n                <div className=\"hwpro-no-items\">\n                    <h1>{window.HighWayProPostEditor.text.urlPicker.noUrls.title}</h1>\n                    <p>{window.HighWayProPostEditor.text.urlPicker.noUrls.message}</p>\n                </div>\n            )\n        }\n    }\n\n    getUrlItem(url, options) \n    {\n        options = options || {};\n        const assigned = options.assigned;\n\n        return (\n            <li \n                key={url.id} \n                data-id={url.id} \n                className={`hwpro-list-url ${classnames({\n                    '--hwpro-assigned-url': assigned,\n                    '--hwpro-active': this.state.activeUrl && this.state.activeUrl.id === url.id\n                })}`}\n                onClick={\n                    //ignore click on assigned urls, the click event is handled down below\n                    assigned? () => {} : this.handleClick(url)\n                }\n            >\n                <div className=\"hwpro-list-url-item\">\n                    <div className=\"hwpro-list-url--name\">{url.name}</div>\n                    <div className=\"hwpro-list-url--url\">{url.finalUrl}</div>\n                </div>\n                {assigned && \n                    <div className=\"hwpro-delete\" onClick={this.handleClick(null)}>\n                        <DeleteIcon />\n                    </div>\n                }\n            </li>\n        );\n    }\n\n    /**\n     * THIS METHOD IS ALSO USED BY THE DELETE ICON WHEN CLICKED\n     * TO REMOVE THE URL\n     */\n    handleClick(url) \n    {\n        return () => this.setState({\n            activeUrl: url,\n        }, this.handleDesiredUrlHasBeenSelected.bind(this));\n    }\n\n    handleSearchInput(event) \n    {\n        this.setState({\n            searchText: event.target.value,\n        }, delay(this.fetchSearchedForUrls.bind(this), 250));\n    }\n\n    fetchSearchedForUrls() \n    {\n        $.ajax({\n            method: 'GET',\n            url: window.HighWayProPostEditor.postUrl,\n            data: {\n                action: 'highwaypro_post',\n                path: 'urls',\n                data: JSON.stringify({\n                    filters: {\n                        url: {\n                            name: this.state.searchText\n                        },\n                        limit: 3\n                    }\n                })\n            },\n            dataType: 'json',\n            beforeSend: () => this.setState({isFetchingSearchedUrls: true}),\n            success: this.handleReceivedUrls.bind(this),\n            error: () => {console.log('an error')}\n        })\n    }\n\n    handleReceivedUrls(response) \n    {\n        this.setState({\n            isFetchingSearchedUrls: false,\n            urls: response.urls\n        })\n    }\n\n    handleNavigation(event) \n    {\n        if (UrlPicker.NAVIGATION_KEYS.includes(event.key)) {\n            event.preventDefault();\n\n            let newNavigationIndex = this.state.currentNavigationUrlIndex;\n\n            switch (event.key) {\n                case 'ArrowDown':\n                    if (this.state.currentNavigationUrlIndex < (this.state.urls.length -1)) {\n                        ++newNavigationIndex;\n                    }\n                break;\n                case 'ArrowUp':\n                    if (this.state.currentNavigationUrlIndex > 0) {\n                        --newNavigationIndex;\n                    }\n                break;\n            }\n\n            this.setState(state => ({\n                currentNavigationUrlIndex: newNavigationIndex,\n                activeUrl: this.state.urls[newNavigationIndex]\n            }));\n        } else if (event.key === 'Enter') {\n            this.handleDesiredUrlHasBeenSelected();\n        }\n    }\n\n    handleDesiredUrlHasBeenSelected() \n    {\n        const activeUrl = this.state.activeUrl;\n\n        this.props.urlPickerReceiver.setId(activeUrl? activeUrl.id : null, this);\n\n        // re-render\n        this.close()\n    }\n\n    handleOutsideClick(event) \n    {\n        let target = $(event.target);\n        let customAllowableClicableElement = this.props.customAllowableClicableElement? this.props.customAllowableClicableElement(target) : true;\n\n        let wasClickedOutsidePickerWindow = !target.closest(`.${this.classes.urlPicker}`).length \n                                                && \n                                            !target.closest(this.props.allowedClickableElement).length\n                                                &&\n                                            customAllowableClicableElement;\n        if (this.props.isOpen && wasClickedOutsidePickerWindow) {\n           this.props.closeInactive();\n        }\n    }\n\n    close() \n    {\n        if (this.props.isOpen) {\n            this.reset();\n            this.props.close();\n        }\n    }\n\n    reset(extra) \n    {\n        extra = extra || {};\n        this.setState(\n            Object.assign(\n                this.initialState,\n                extra,\n                {\n                    lastUrlPickerReceiver: this.props.urlPickerReceiver\n                }\n            )\n        );\n    }\n\n    open() \n    {\n        if (this.state.isOpening || this.state.isOpened) {\n            return;\n        }\n\n        let then;\n\n        this.setState({\n            isClosing: false,\n            isClosed: false,\n            isOpened: false,\n            isOpening: true,\n        }, then = () => {\n            // after the display block has been applied...\n            // wait for the engine not to apply the classes too early\n            window.setTimeout(() => {\n                this.setState({\n                    isClosing: false,\n                    isClosed: false,\n                    isOpened: true,\n                    isOpening: false\n                })   \n            }, 50);\n        });\n    }\n\n    setUrlIfItHasOne() \n    {\n        const linkId = parseInt(this.props.urlPickerReceiver.getId());\n        \n        if (this.state.assignedUrl) {\n            return;\n        }\n\n        if (linkId) {\n            const cachedUrl = this.cache.urls.find(url => url.id == linkId);\n\n            if (cachedUrl) {\n                this.setAssignedUrl(cachedUrl);\n            } else {\n                this.fetchUrl(linkId);\n            }\n        } else {\n            this.setAssignedUrl(null);\n        }\n    }\n\n    fetchUrl(linkId) \n    {\n        if (!this.state.fetchingUrl) {\n            $.ajax({\n                method: 'GET',\n                url: window.HighWayProPostEditor.postUrl,\n                data: {\n                    action: 'highwaypro_post',\n                    path: 'url',\n                    data: JSON.stringify({\n                        'id': linkId\n                    })\n                },\n                dataType: 'json',\n                beforeSend: () => this.setState({fetchingUrl: true}),\n                success: this.handleReceivedUrl.bind(this),\n                error: () => {console.log('an error')}\n            })\n        }\n    }\n\n    handleReceivedUrl(response) \n    {\n        this.setAssignedUrl(response.url);\n        this.setState({fetchingUrl: false})\n    }\n\n    setAssignedUrl(url) \n    {\n        if (this.state.assignedUrl != url) {\n            this.setState({\n                assignedUrl: url\n            })\n        }\n    }\n\n    hasAssignedUrl() \n    {\n        return this.state.assignedUrl;\n    }\n\n    handleTransitionEnd() \n    {\n        if (this.state.isClosing) {\n            this.setState({\n                isClosing: false,\n                isClosed: true,\n                isOpening: false,\n                isOpened: false\n            })\n        } else if (this.state.isOpening) {\n            this.setState({\n                isClosing: false,\n                isClosed: false,\n                isOpening: false,\n                isOpened: true\n            })\n        } else {\n            this.forceUpdate();\n        }\n    }\n\n\n    getAssignedUrlItem() \n    {\n        if (this.state.assignedUrl) {\n            return (\n                <div className=\"hwpro-assigned-url-container\">\n                    {this.getUrlItem(this.state.assignedUrl, {assigned: true})}\n                </div>\n            )\n        }\n    }\n\n    hasUrls() \n    {\n        return this.state.urls.length;\n    }\n}\n\nUrlPicker.NAVIGATION_KEYS = [\n    'ArrowDown',\n    'ArrowUp'\n];\n\nUrlPicker.WIDTH = 282;\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/UrlPicker.js","import { UrlPicker } from './UrlPicker';\n\nconst $ = jQuery;\n\nexport class AddShortUrlButtonCentral\n{\n    static TAG_NAME   = 'hwprourl';\n    static TITLE      = 'HighWayPro Short Url';\n    static CLASSES    = 'highwaypro-url';\n    static ATTRIBUTES = {\n        id: 'data-id'\n    }\n\n    static getCurrentCoordinates() \n    {\n        const selection = window.getSelection();\n        let coordinates;\n\n        if (selection.type.toLowerCase() === 'none') {\n            coordinates = {\n                top: '50%',\n                left: '50%'\n            };\n        } else {\n            const range = selection.getRangeAt(0).getBoundingClientRect();\n            let left = (range.left + window.scrollX) - (282 / 2) + (range.width / 2);\n\n            left = AddShortUrlButtonCentral.calculateViewableLeftCoordinates(left);\n\n            coordinates = {\n                top: range.top + window.scrollY + (range.height + 10),\n                left: left\n            }\n        }\n\n        return coordinates;\n    }\n\n    static calculateViewableLeftCoordinates(left)\n    {\n        const windowWidth = $(window).width();\n        const elementGetsOutOfTheviewPortRight = () => ((left + UrlPicker.WIDTH) > windowWidth);\n        const elementGetsOutOfTheviewPortLeft = () => (left < 0);\n\n        if (elementGetsOutOfTheviewPortLeft()) {\n            left = 10;\n        } else if (elementGetsOutOfTheviewPortRight()) {\n            while (elementGetsOutOfTheviewPortRight()) {\n                left -= 10;\n            }\n        }\n\n        return left;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/AddShortUrlButtonCentral.js","import { HighWayPro } from '../../HighWayPro';\n\nexport class UrlPickerReceiver\n{\n    getId() \n    {\n        throw new Error('Method getId() must be extended');\n    }\n\n    setId(id, urlPicker) \n    {\n        this.handleNewId(id);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/domain/urlPicker/UrlPickerReceiver.js","export class Events\n{\n    static register(event) \n    {\n        Events.events.push(event)\n    }\n\n    static call(eventName, data) \n    {\n        Events.events.filter(event => event.name === eventName).forEach(event => {\n            event.handler(data, eventName)\n        });\n    }\n}\n\nEvents.events = [];\n\n\n// WEBPACK FOOTER //\n// ./src/js/events.js","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 5\n// module chunks = 0","import { AddShortUrlButtonCentral } from '../AddShortUrlButtonCentral';\nimport {\n  GutenbergTextBlockUrlPickerReceiver,\n} from '../../domain/urlPicker/GutenbergTextBlockUrlPickerReceiver';\nimport { HighWayPro } from '../../HighWayPro';\nimport { HighWayProApp } from '../../HighWayProApp';\nimport { UrlPicker } from '../UrlPicker';\nimport ElementIcon from '../../../images/logo.svg';\n\nconst { wp } =  window;\nconst { Fragment, Component } = wp.element;\nconst { registerFormatType, unregisterFormatType } = wp.richText;\nconst { RichTextToolbarButton } = wp.editor;\nconst $ = jQuery;\n\nconst createElement = HighWayProApp.getCreateElement();\n\nexport default class AddShortUrlButton extends Component\n{\n    static NAME = 'highwaypro/add-short-url';\n\n    static register()\n    {\n        document.createElement(AddShortUrlButton.TAG_NAME);\n\n        registerFormatType(AddShortUrlButton.NAME, {\n            title: AddShortUrlButtonCentral.TITLE,\n            tagName: AddShortUrlButtonCentral.TAG_NAME,\n            className: AddShortUrlButtonCentral.CLASSES,\n            attributes: {\n                [AddShortUrlButtonCentral.ATTRIBUTES.id]: AddShortUrlButtonCentral.ATTRIBUTES.id,\n            },\n            edit: AddShortUrlButton\n        });\n    }\n\n    state = {\n        urlPickerReceiver: null,\n        isOpen: false,\n        addUrl: false\n    }\n\n    componentDidUpdate() \n    {\n        if (this.props.isActive && !this.state.isOpen) {\n            this.open({\n                origin: 'fromExistingFormat'\n            });\n        } else {\n             if (!this.props.isActive && this.state.openOrigin === 'fromExistingFormat') {\n                this.close();\n            }\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                <RichTextToolbarButton\n                    icon={ <ElementIcon /> }\n                    title=\"HighWayPro Short Url\"\n                    onClick={this.open.bind(this, {\n                        origin: 'fromClick'\n                    })}\n                />\n                <UrlPicker \n                    isOpen={this.state.isOpen}\n                    urlPickerReceiver={new GutenbergTextBlockUrlPickerReceiver(this)}\n                    coordinates={AddShortUrlButtonCentral.getCurrentCoordinates()}\n                    allowedClickableElement=\".components-button\"\n                    close={this.close.bind(this)}\n                    closeInactive={this.closeInactive.bind(this)}\n                />\n            </Fragment>\n        );\n    }\n\n    open(openOrigin) \n    {\n        this.setState({\n            isOpen: true,\n            openOrigin: openOrigin.origin\n        })\n    }\n\n    explicitelyOpen() \n    {\n        this.setState({\n            isOpen: true,\n            openFromClick: true\n        })\n    }\n\n    close() \n    {\n        if (this.state.isOpen) {\n            this.setState({\n                isOpen: false,\n                addUrl: false,\n                urlPickerReceiver: null\n            })\n        }\n    }\n\n    closeInactive() \n    {\n        if (!this.props.isActive) {\n            this.close();\n        }\n    }\n\n    handleNewIdReceived(id) \n    {\n        // converted to string which it seems breaks with any other data type\n        id = id? `${id}` : '';\n\n        const action = id? wp.richText.applyFormat : wp.richText.toggleFormat;\n\n        this.props.onChange(action(\n            this.props.value,\n            {\n                type: AddShortUrlButton.NAME,\n                attributes: {\n                    'data-id': id\n                }\n            }\n        ) );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/gutenberg/AddShortUrlButton.js","import { AddShortUrlButton } from '../../components/gutenberg/AddShortUrlButton';\nimport { UrlPickerReceiver } from './UrlPickerReceiver';\n\nexport class GutenbergTextBlockUrlPickerReceiver extends UrlPickerReceiver\n{\n    constructor(addShortUrlButton) \n    {\n        super(addShortUrlButton);\n\n        this.addShortUrlButton = addShortUrlButton;\n    }\n\n    getId() \n    {\n        return this.addShortUrlButton.props.activeAttributes['data-id'];\n    }\n\n    handleNewId(id) \n    {\n        this.addShortUrlButton.handleNewIdReceived(id);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/domain/urlPicker/GutenbergTextBlockUrlPickerReceiver.js","import { HighWayPro } from './HighWayPro';\n\n// load it once...\nif (!window.HighWayPro) {\n    window.HighWayPro = new HighWayPro;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/postPicker.js","const $ = jQuery;\n\nexport class UrlPostMetaBoxManager\n{\n    classes = {\n        main: 'hwpro-url-meta-box',\n        url: {\n            pathField: 'hwpro-url-path',\n            finalUrl: 'hwpro-url-path-final',\n            finalUrlPath: 'hwpro-url-path-final--path'\n        },\n        stats: {\n            number: 'hwpro-stats--number'\n        }\n    }\n\n    elements = {};\n\n    constructor() \n    {\n        this.elements.main = $(`.${this.classes.main}`);\n        this.elements.pathField = $(`#${this.classes.url.pathField}`);\n\n        if (this.elements.pathField.length) {\n            this.elements.finalUrl = $(`.${this.classes.url.finalUrl}`);\n\n            this.elements.pathField.get(0) && this.elements.pathField.get(0).addEventListener('input', this.updatePath.bind(this));\n\n            this.elements.statsNumber = $(`.${this.classes.stats.number}`)\n            this.performStatsRequest();\n        }\n    }\n\n    updatePath({target}) \n    {\n        const fixedPath = target.value.replace(' ', '-').replace(/[^a-z0-9-]/gi,'');\n\n        this.elements.pathField.val(fixedPath);\n        this.updateFinalUrl(fixedPath);\n    }\n\n    updateFinalUrl(path) \n    {\n        this.elements.finalUrl.children(`.${this.classes.url.finalUrlPath}`)\n                              .text(path);\n    }\n\n    performStatsRequest() \n    {\n        if (this.getUrlId() < 1) {\n            return;\n        }\n\n        $.ajax({\n            method: 'GET',\n            url: window.HighWayProPostEditor.postUrl,\n            data: {\n                action: 'highwaypro_post',\n                path: 'url/statistics',\n                data: JSON.stringify({\n                    url: {\n                        id: this.getUrlId()\n                    }\n                })\n            },\n            dataType: 'json',\n            beforeSend: () => this.setClicksValue('Loading'),\n            success: this.handleSuccessfulStatsResponse.bind(this),\n            error: () => this.setClicksValue('Failed to load')\n        })\n    }\n\n    getUrlId() \n    {\n        return this.elements.main.attr('data-url-id');\n    }\n\n    handleSuccessfulStatsResponse(response) \n    {\n        this.setClicksValue(response.statistics.count.allTime)\n    }\n\n    setClicksValue(value) \n    {\n        this.elements.statsNumber.text(value)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/metabox/UrlPostMetaBoxManager.js","import { AddShortUrlButtonCentral } from '../AddShortUrlButtonCentral';\nimport {\n  ClassicTextBlockUrlPickerReceiver,\n} from '../../domain/urlPicker/ClassicTextBlockUrlPickerReceiver';\nimport { HighWayProApp } from '../../HighWayProApp';\nimport { UrlPicker } from '../UrlPicker';\n\nconst { wp } =  window;\n\nlet Component;\n\nif (wp && wp.element) {\n    Component = wp.element.Component\n} else {\n    Component = window.React.Component;\n}\n\nconst createElement = HighWayProApp.getCreateElement();\n\nconst $ = jQuery;\n\n\n\nexport default class AddShortUrlButton extends Component\n{\n    static register()\n    {\n        document.createElement(AddShortUrlButtonCentral.TAG_NAME);\n\n        tinymce.PluginManager.add('myplugin', (editor, url) => {\n\n            editor.addCommand(\n                'HighWayPro_handleAddButtonWasCliked', AddShortUrlButton.handleAddButtonWasCliked\n            );\n\n            editor.addButton( 'myplugin' , {\n                title : AddShortUrlButtonCentral.TITLE,\n                image : window.HighWayProPostEditor.pluginURI + 'app/scripts/postEditorGutenberg/src/images/logo.svg',\n                cmd   : 'HighWayPro_handleAddButtonWasCliked',\n                onpostrender: function() {\n                    jQuery('<div id=\"highwaypro-classic-editor-picker\"></div>').appendTo(jQuery('body'));\n                    \n                    ReactDOM.render(\n                        <AddShortUrlButton editor={editor}/>, \n                        document.getElementById('highwaypro-classic-editor-picker')\n                    );\n                }\n            });\n\n        });\n    }\n\n    state = {\n        isOpen: false,\n\n    }\n\n    componentDidMount() \n    {\n        AddShortUrlButton.instance = this;\n\n        this.props.editor.on('click', this.handleEditorWasClicked.bind(this));\n    }\n\n    render() \n    {\n        return (\n            <UrlPicker \n                isOpen={this.state.isOpen}\n                urlPickerReceiver={new ClassicTextBlockUrlPickerReceiver(this)}\n                coordinates={this.getCurrentCoordinates()}\n                allowedClickableElement=\".mce-btn\"\n                customAllowableClicableElement={this.isCustomAllowableClicableElement.bind(this)}\n                close={this.close.bind(this)}\n                closeInactive={this.closeInactive.bind(this)}\n                position=\"left\"\n            />\n       )\n    }\n\n    open(optionalLinkElement) \n    {\n        // used by: ClassicTextBlockUrlPickerReceiver\n        this.linkElement = optionalLinkElement;\n\n        this.setState({\n            isOpen: true\n        })\n    }\n\n    close() \n    {\n        if (this.state.isOpen) {\n            this.setState({\n                isOpen: false\n            });\n        }\n    }\n\n                    \n    closeInactive() \n    {\n        this.setState({\n            isOpen: false\n        })\n    }\n\n    isCustomAllowableClicableElement($target) \n    {\n        return $target == this.linkElement;\n    }\n\n    handleEditorWasClicked(event) \n    {\n        const target = $(event.target);\n\n        if (target.hasClass(AddShortUrlButtonCentral.CLASSES)) {\n\n            this.open(target);\n        } else if (!target.hasClass('hwpro-url-picker')) {\n            this.close();\n        }\n    }\n\n    handleNewIdReceived(id) \n    {\n        // we are editing an existing link\n        if (this.linkElement) {\n\n            if (id) {\n                this.linkElement.attr(AddShortUrlButtonCentral.ATTRIBUTES.id, id);\n            } else {\n                // remove the link\n                this.linkElement.contents().unwrap();\n            }\n        } else {\n            // we're creating a new link from scratch!\n            if (id) {\n                this.props.editor.execCommand(\n                    'mceReplaceContent', \n                    false, \n                    `<hwprourl class=\"${AddShortUrlButtonCentral.CLASSES}\" ${AddShortUrlButtonCentral.ATTRIBUTES.id}=\"${id}\">{$selection}</hwprourl>`\n                )\n            }\n        }\n    }\n\n    static handleAddButtonWasCliked() \n    {\n        AddShortUrlButton.instance.open();\n    }\n\n    getCurrentCoordinates() \n    {\n        if (!this.state.isOpen) {\n            return {};\n        }\n\n        /**\n         * Shame-lessly borrowed from: \n         * \n         * https://github.com/abrimo/TinyMCE-Autocomplete-Plugin/blob/master/src/autocomplete/editor_plugin_src.js\n         *\n         * Thanks a ton!\n         * \n         * Talk about backwards compatibility!\n         *\n         */\n        \n        var editorContainer = this.props.editor.getContainer();\n\n        if (editorContainer) {\n            var editorElement = jQuery(editorContainer);\n        } else {\n            var editorElement = jQuery(`#${this.props.editor.id}`);\n        }\n\n        var tinymcePosition = editorElement.offset();\n        var toolbarPosition = editorElement.find(\".mce-toolbar-grp\").first();\n        var nodePosition = jQuery(this.props.editor.selection.getNode()).position();\n        var textareaTop = 0;\n        var textareaLeft = 0;\n        if (this.props.editor.selection.getRng().getClientRects().length > 0) {\n            textareaTop = this.props.editor.selection.getRng().getClientRects()[0].top + this.props.editor.selection.getRng().getClientRects()[0].height;\n            textareaLeft = this.props.editor.selection.getRng().getClientRects()[0].left;\n        } else {\n            textareaTop = parseInt(jQuery(this.props.editor.selection.getNode()).css(\"font-size\")) * 1.3 + nodePosition.top;\n            textareaLeft = nodePosition.left;\n        }\n\n        const lineHeight = 5;\n\n        if (editorContainer) {\n            var top = tinymcePosition.top + toolbarPosition.innerHeight() + textareaTop + lineHeight\n            var left = tinymcePosition.left + textareaLeft;\n        } else {\n            var top = toolbarPosition.innerHeight() + textareaTop + lineHeight;\n            var left = textareaLeft;\n        }\n\n        return {\n            top: top - $(window).scrollTop(),\n            left: AddShortUrlButtonCentral.calculateViewableLeftCoordinates(left)\n        };\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/classic/AddShortUrlButton.js","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/classnames/index.js\n// module id = 12\n// module chunks = 0","export function delay(fn, ms) {\n  let timer = 0\n  return function(...args) {\n    clearTimeout(timer)\n    timer = setTimeout(fn.bind(this, ...args), ms || 0)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/utilities/delay.js","var React = require('react');\n\nfunction Delete (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"fill\":\"none\",\"d\":\"M0 0h24v24H0V0z\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zm3.17-7.83c.39-.39 1.02-.39 1.41 0L12 12.59l1.42-1.42c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 14l1.42 1.42c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0L12 15.41l-1.42 1.42c-.39.39-1.02.39-1.41 0-.39-.39-.39-1.02 0-1.41L10.59 14l-1.42-1.42c-.39-.38-.39-1.02 0-1.41zM15.5 4l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z\",\"key\":1})]);\n}\n\nDelete.defaultProps = {\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"};\n\nmodule.exports = Delete;\n\nDelete.default = Delete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/delete.svg\n// module id = 14\n// module chunks = 0","import {\n  AddShortUrlButtonCentral,\n} from '../../components/AddShortUrlButtonCentral';\nimport { UrlPickerReceiver } from './UrlPickerReceiver';\n\nexport class ClassicTextBlockUrlPickerReceiver extends UrlPickerReceiver\n{\n    constructor(addShortUrlButton) \n    {\n        super(addShortUrlButton);\n\n        this.addShortUrlButton = addShortUrlButton;\n    }\n\n    getId() \n    {\n        if (this.addShortUrlButton.linkElement) {\n            return this.addShortUrlButton.linkElement.attr(AddShortUrlButtonCentral.ATTRIBUTES.id);\n        }\n\n        return null;\n    }\n\n    handleNewId(id) \n    {\n        this.addShortUrlButton.handleNewIdReceived(id);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/domain/urlPicker/ClassicTextBlockUrlPickerReceiver.js","export class HighWayProApp\n{\n    static getComponent()\n    {\n        return HighWayProApp.gutenbergIsEnabled()? window.wp.element.Component : window.React.Component;\n    }\n\n    static gutenbergIsEnabled() \n    {\n        return window.wp && \n               window.wp.editor && \n              (typeof window.wp.editor.BlockControls !== 'undefined');\n    }\n\n    static getCreateElement()\n    {\n        return HighWayProApp.gutenbergIsEnabled()? window.wp.element.createElement : window.React.createElement;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/HighWayProApp.js","var React = require('react');\n\nfunction Logo (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"Direction\"),React.createElement(\"desc\",{\"key\":1},\"A solid styled icon from Orion Icon Library.\"),React.createElement(\"path\",{\"data-name\":\"layer1\",\"d\":\"M49 30H15a8.005 8.005 0 0 1-7.976-8.059A7.906 7.906 0 0 1 15 14h38l-3.566 3.924 2.844 2.846L61 12l-8.72-9-2.846 2.843L53 10H15a12 12 0 1 0 0 24h34c4.436 0 9 3.563 9 8a7.977 7.977 0 0 1-8 8H11l4-4-2.946-2.768L3 52l1.584 1.525.02.02L12 61l3-3-4-4h39a11.964 11.964 0 0 0 12-12c0-6.656-6.344-12-13-12z\",\"fill\":\"\",\"key\":2})]);\n}\n\nLogo.defaultProps = {\"viewBox\":\"0 0 64 64\",\"aria-labelledby\":\"title\",\"aria-describedby\":\"desc\",\"role\":\"img\",\"width\":\"20\",\"height\":\"20\"};\n\nmodule.exports = Logo;\n\nLogo.default = Logo;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/logo.svg\n// module id = 17\n// module chunks = 0"],"sourceRoot":""}