jQuery(function(b){function q(b){return decodeURIComponent(atob(b).split("").map(function(b){return"%"+("00"+b.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function m(b,c){c||(c=window.location.href);b=b.replace(/[\[\]]/g,"\\$&");var a=(new RegExp("[?&]"+b+"(=([^&#]*)|&|#|$)")).exec(c);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function n(d){d.removeClass("ai-ip-data");var c=!1;if(""!=ai_ip_data){try{var a=JSON.parse(ai_ip_data),g=a[0],p=a[1],f=a[2],h=a[3]}catch(r){return}var k=
g+", "+p;null!=f&&null!=h&&(k=k+":"+f+":"+h);null==f&&(f="");null==h&&(h="");null!=a&&d.each(function(){var a=b(this).closest("div.AI_FUNCT_GET_BLOCK_CLASS_NAME");c=!0;var d=!1,e=b(this).attr("ip-addresses");if("undefined"!=typeof e){e=e.split(",");var l=b(this).attr("ip-address-list");b.each(e,function(b,a){if("*"==a.charAt(0))if("*"==a.charAt(a.length-1)){if(a=a.substr(1,a.length-2),-1!=g.indexOf(a))return d=!0,!1}else{if(a=a.substr(1),g.substr(-a.length)==a)return d=!0,!1}else if("*"==a.charAt(a.length-
1)){if(a=a.substr(0,a.length-1),0==g.indexOf(a))return d=!0,!1}else if("#"==a){if(""==g)return d=!0,!1}else if(a==g)return d=!0,!1});switch(l){case "B":d&&(c=!1);break;case "W":d||(c=!1)}}if(c&&(e=b(this).attr("countries"),"undefined"!=typeof e))switch(e=e.split(","),l=b(this).attr("country-list"),d=!1,b.each(e,function(a,b){var c=b.trim().split(":");if(null==c[1]||""==f)c[1]="";if(null==c[2]||""==h)c[2]="";var e=c.join(":").toUpperCase();c=(p+":"+(""==c[1]?"":f)+":"+(""==c[2]?"":h)).toUpperCase();
if(e==c)return d=!0,!1}),l){case "B":d&&(c=!1);break;case "W":d||(c=!1)}b(this).css({visibility:"",position:"",width:"",height:"","z-index":""});e=b(this).prev(".ai-debug-bar");e.find(".ai-debug-name.ai-ip-country").text(k);e.find(".ai-debug-name.ai-ip-status").text(c?ai_front.visible:ai_front.hidden);c?(a.css({visibility:""}),a.hasClass("ai-remove-position")&&a.css({position:""}),"undefined"!=typeof b(this).data("code")&&(e=q(b(this).data("code")),b(this).append(e),b(this).attr("data-code",""),ai_process_element(this))):
(b(this).hide(),a.removeAttr("data-ai"),a.find(".ai-debug-block")?(a.css({visibility:""}).removeClass("ai-close"),a.hasClass("ai-remove-position")&&a.css({position:""})):a.hide());a.removeClass("ai-list-block")})}}ai_process_ip_addresses=function(d){d=null==d?b("div.ai-ip-data"):d.filter(".ai-ip-data");if(d.length)if(d.removeClass("ai-ip-data"),"undefined"!=typeof ai_ip_data)n(d);else{var c="AI_SITE_URL/wp-admin/admin-ajax.php?action=ai_ajax&ip-data=ip-address-country-city&ai_check=AI_NONCE&ver="+
((new Date).getTime()+"-"+Math.round(1E5*Math.random())),a=m("ai-debug-ip-address");null!=a&&(c+="&ai-debug-ip-address="+a);a=m("ai-debug-country");null!=a&&(c+="&ai-debug-country="+a);b.get(c,function(a){ai_ip_data=a;if(""==a){var b="Ajax request returned empty data, geo-targeting disabled";console.error(b);"undefined"!=typeof ai_js_errors&&ai_js_errors.push([b,c,0])}else try{JSON.parse(a)}catch(f){b="Ajax call returned invalid data, geo-targeting disabled",console.error(b,a),"undefined"!=typeof ai_js_errors&&
ai_js_errors.push([b,c,0])}n(d)}).fail(function(a,c,d){b("div.ai-ip-data").each(function(){b(this).css({display:"none",visibility:"",position:"",width:"",height:"","z-index":""}).removeClass("ai-ip-data").hide()})})}};b(document).ready(function(b){setTimeout(function(){ai_process_ip_addresses()},5)})});
function ai_process_element(b){setTimeout(function(){"function"==typeof ai_process_rotations_in_element&&ai_process_rotations_in_element(b);"function"==typeof ai_process_lists&&ai_process_lists(jQuery("div.ai-list-data",b));"function"==typeof ai_process_ip_addresses&&ai_process_ip_addresses(jQuery("div.ai-ip-data",b))},5)};
