"use strict";window.jscolor||(window.jscolor=function(){var jsc={register:function(){jsc.attachDOMReadyEvent(jsc.init),jsc.attachEvent(document,"mousedown",jsc.onDocumentMouseDown),jsc.attachEvent(document,"touchstart",jsc.onDocumentTouchStart),jsc.attachEvent(window,"resize",jsc.onWindowResize)},init:function(){jsc.jscolor.lookupClass&&jsc.jscolor.installByClassName(jsc.jscolor.lookupClass)},tryInstallOnElements:function(e,t){for(var r=new RegExp("(^|\\s)("+t+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),s=0;s<e.length;s+=1)if(void 0===e[s].type||"color"!=e[s].type.toLowerCase()||!jsc.isColorAttrSupported){var i;if(!e[s].jscolor&&e[s].className&&(i=e[s].className.match(r))){var o=e[s],n=null,a=jsc.getDataAttr(o,"jscolor");null!==a?n=a:i[4]&&(n=i[4]);var l={};if(n)try{l=new Function("return ("+n+")")()}catch(c){jsc.warn("Error parsing jscolor options: "+c+":\n"+n)}o.jscolor=new jsc.jscolor(o,l)}}},isColorAttrSupported:function(){var e=document.createElement("input");return!(!e.setAttribute||(e.setAttribute("type","color"),"color"!=e.type.toLowerCase()))}(),isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},isElementType:function(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()},getDataAttr:function(e,t){var r="data-"+t,s=e.getAttribute(r);return null!==s?s:null},attachEvent:function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)},detachEvent:function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,r,s){jsc._attachedGroupEvents.hasOwnProperty(e)||(jsc._attachedGroupEvents[e]=[]),jsc._attachedGroupEvents[e].push([t,r,s]),jsc.attachEvent(t,r,s)},detachGroupEvents:function(e){if(jsc._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<jsc._attachedGroupEvents[e].length;t+=1){var r=jsc._attachedGroupEvents[e][t];jsc.detachEvent(r[0],r[1],r[2])}delete jsc._attachedGroupEvents[e]}},attachDOMReadyEvent:function(e){var t=!1,r=function(){t||(t=!0,e())};if("complete"===document.readyState)return void setTimeout(r,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1);else if(document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),r())}),window.attachEvent("onload",r),document.documentElement.doScroll&&window==window.top)){var s=function(){if(document.body)try{document.documentElement.doScroll("left"),r()}catch(e){setTimeout(s,1)}};s()}},warn:function(e){window.console&&window.console.warn&&"Cannot link jscolor twice to the same element. Skipping."!=e&&window.console.warn(e)},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(jsc._capturedTarget=e,jsc._capturedTarget.setCapture())},releaseTarget:function(){jsc._capturedTarget&&(jsc._capturedTarget.releaseCapture(),jsc._capturedTarget=null)},fireEvent:function(e,t){if(e)if(document.createEvent){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}else if(document.createEventObject){var r=document.createEventObject();e.fireEvent("on"+t,r)}else e["on"+t]&&e["on"+t]()},classNameToList:function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(e,t){return t?-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" "):!1},setClass:function(e,t){for(var r=jsc.classNameToList(t),s=0;s<r.length;s+=1)jsc.hasClass(e,r[s])||(e.className+=(e.className?" ":"")+r[s])},unsetClass:function(e,t){for(var r=jsc.classNameToList(t),s=0;s<r.length;s+=1){var i=new RegExp("^\\s*"+r[s]+"\\s*|\\s*"+r[s]+"\\s*$|\\s+"+r[s]+"(\\s+)","g");e.className=e.className.replace(i,"$1")}},getStyle:function(e){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle},setStyle:function(){var e=document.createElement("div"),t=function(t){for(var r=0;r<t.length;r+=1)if(t[r]in e.style)return t[r]},r={borderRadius:t(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:t(["boxShadow","MozBoxShadow","webkitBoxShadow"])};return function(e,t,s){switch(t.toLowerCase()){case"opacity":var i=Math.round(100*parseFloat(s));e.style.opacity=s,e.style.filter="alpha(opacity="+i+")";break;default:e.style[r[t]]=s}}}(),setBorderRadius:function(e,t){jsc.setStyle(e,"borderRadius",t||"0")},setBoxShadow:function(e,t){jsc.setStyle(e,"boxShadow",t||"none")},getElementPos:function(e,t){var r=0,s=0,i=e.getBoundingClientRect();if(r=i.left,s=i.top,!t){var o=jsc.getViewPos();r+=o[0],s+=o[1]}return[r,s]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){e||(e=window.event);var t=0,r=0;return"undefined"!=typeof e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,r=e.clientY),{x:t,y:r}},getRelPointerPos:function(e){e||(e=window.event);var t=e.target||e.srcElement,r=t.getBoundingClientRect(),s=0,i=0,o=0,n=0;return"undefined"!=typeof e.changedTouches&&e.changedTouches.length?(o=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(o=e.clientX,n=e.clientY),s=o-r.left,i=n-r.top,{x:s,y:i}},getViewPos:function(){var e=document.documentElement;return[(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),(window.pageYOffset||e.scrollTop)-(e.clientTop||0)]},getViewSize:function(){var e=document.documentElement;return[window.innerWidth||e.clientWidth,window.innerHeight||e.clientHeight]},redrawPosition:function(){if(jsc.picker&&jsc.picker.owner){var e,t,r=jsc.picker.owner;r.fixed?(e=jsc.getElementPos(r.targetElement,!0),t=[0,0]):(e=jsc.getElementPos(r.targetElement),t=jsc.getViewPos());var s,i,o,n=jsc.getElementSize(r.targetElement),a=jsc.getViewSize(),l=jsc.getPickerOuterDims(r);switch(r.position.toLowerCase()){case"left":s=1,i=0,o=-1;break;case"right":s=1,i=0,o=1;break;case"top":s=0,i=1,o=-1;break;default:s=0,i=1,o=1}var c=(n[i]+l[i])/2;if(r.smartPosition)var d=[-t[s]+e[s]+l[s]>a[s]&&-t[s]+e[s]+n[s]/2>a[s]/2&&e[s]+n[s]-l[s]>=0?e[s]+n[s]-l[s]:e[s],-t[i]+e[i]+n[i]+l[i]-c+c*o>a[i]?-t[i]+e[i]+n[i]/2>a[i]/2&&e[i]+n[i]-c-c*o>=0?e[i]+n[i]-c-c*o:e[i]+n[i]-c+c*o:e[i]+n[i]-c+c*o>=0?e[i]+n[i]-c+c*o:e[i]+n[i]-c-c*o];else var d=[e[s],e[i]+n[i]-c+c*o];var p=d[s],h=d[i],u=r.fixed?"fixed":"absolute",m=(d[0]+l[0]>e[0]||d[0]<e[0]+n[0])&&d[1]+l[1]<e[1]+n[1];jsc._drawPosition(r,p,h,u,m)}},_drawPosition:function(e,t,r,s,i){var o=i?0:e.shadowBlur;jsc.picker.wrap.style.position=s,jsc.picker.wrap.style.left=t+"px",jsc.picker.wrap.style.top=r+"px",jsc.setBoxShadow(jsc.picker.boxS,e.shadow?new jsc.BoxShadow(0,o,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=!!jsc.getSliderComponent(e),r=[2*e.insetWidth+2*e.padding+e.width+(t?2*e.insetWidth+jsc.getPadToSliderPadding(e)+e.sliderSize:0),2*e.insetWidth+2*e.padding+e.height+(e.closable?2*e.insetWidth+e.padding+e.buttonHeight:0)];return r},getPickerOuterDims:function(e){var t=jsc.getPickerDims(e);return[t[0]+2*e.borderWidth,t[1]+2*e.borderWidth]},getPadToSliderPadding:function(e){return Math.max(e.padding,1.5*(2*e.pointerBorderWidth+e.pointerThickness))},getPadYComponent:function(e){switch(e.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderComponent:function(e){if(e.mode.length>2)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},onDocumentMouseDown:function(e){e||(e=window.event);var t=e.target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?jsc.onControlPointerStart(e,t,t._jscControlName,"mouse"):!jsc.picker||!jsc.picker.owner||jQuery(t).hasClass("arf_add_favorite_color")||jQuery(t).parents().hasClass("arf_add_favorite_color")||jQuery(t).hasClass("arf_color_picker_input_div")||jQuery(t).parents().hasClass("arf_color_picker_input_div")||jsc.picker.owner.hide()},onDocumentTouchStart:function(e){e||(e=window.event);var t=e.target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?jsc.onControlPointerStart(e,t,t._jscControlName,"touch"):jsc.picker&&jsc.picker.owner&&jsc.picker.owner.hide()},onWindowResize:function(){jsc.redrawPosition()},onParentScroll:function(){jsc.picker&&jsc.picker.owner&&jsc.picker.owner.hide()},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(e,t,r,s){var i=t._jscInstance;jsc.preventDefault(e),jsc.captureTarget(t);var o=function(i,o){jsc.attachGroupEvent("drag",i,jsc._pointerMoveEvent[s],jsc.onDocumentPointerMove(e,t,r,s,o)),jsc.attachGroupEvent("drag",i,jsc._pointerEndEvent[s],jsc.onDocumentPointerEnd(e,t,r,s))};if(o(document,[0,0]),window.parent&&window.frameElement){var n=window.frameElement.getBoundingClientRect(),a=[-n.left,-n.top];o(window.parent.window.document,a)}var l=jsc.getAbsPointerPos(e),c=jsc.getRelPointerPos(e);switch(jsc._pointerOrigin={x:l.x-c.x,y:l.y-c.y},r){case"pad":switch(jsc.getSliderComponent(i)){case"s":0===i.hsv[1]&&i.fromHSV(null,100,null);break;case"v":0===i.hsv[2]&&i.fromHSV(null,null,100)}jsc.setPad(i,e,0,0);break;case"sld":jsc.setSld(i,e,0)}jsc.dispatchFineChange(i)},onDocumentPointerMove:function(e,t,r,s,i){return function(e){var s=t._jscInstance;switch(r){case"pad":e||(e=window.event),jsc.setPad(s,e,i[0],i[1]),jsc.dispatchFineChange(s);break;case"sld":e||(e=window.event),jsc.setSld(s,e,i[1]),jsc.dispatchFineChange(s)}}},onDocumentPointerEnd:function(e,t){return function(){var e=t._jscInstance;jsc.detachGroupEvents("drag"),jsc.releaseTarget(),jsc.dispatchChange(e)}},dispatchChange:function(e){e.valueElement&&jsc.isElementType(e.valueElement,"input")&&jsc.fireEvent(e.valueElement,"change")},dispatchFineChange:function(e){if(e.onFineChange){var t;t="string"==typeof e.onFineChange?new Function(e.onFineChange):e.onFineChange,t.call(e)}},setPad:function(e,t,r,s){var i=jsc.getAbsPointerPos(t),o=r+i.x-jsc._pointerOrigin.x-e.padding-e.insetWidth,n=s+i.y-jsc._pointerOrigin.y-e.padding-e.insetWidth,a=o*(360/(e.width-1)),l=100-n*(100/(e.height-1));switch(jsc.getPadYComponent(e)){case"s":e.fromHSV(a,l,null,jsc.leaveSld);break;case"v":e.fromHSV(a,null,l,jsc.leaveSld)}},setSld:function(e,t,r){var s=jsc.getAbsPointerPos(t),i=r+s.y-jsc._pointerOrigin.y-e.padding-e.insetWidth,o=100-i*(100/(e.height-1));switch(jsc.getSliderComponent(e)){case"s":e.fromHSV(null,o,null,jsc.leavePad);break;case"v":e.fromHSV(null,null,o,jsc.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!1,initVML:function(){if(!jsc._vmlReady){var e=document;if(e.namespaces[jsc._vmlNS]||e.namespaces.add(jsc._vmlNS,"urn:schemas-microsoft-com:vml"),!e.styleSheets[jsc._vmlCSS]){var t=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],r=e.createStyleSheet();r.owningElement.id=jsc._vmlCSS;for(var s=0;s<t.length;s+=1)r.addRule(jsc._vmlNS+"\\:"+t[s],"behavior:url(#default#VML);")}jsc._vmlReady=!0}},createPalette:function(){var e={elm:null,draw:null};if(jsc.isCanvasSupported){var t=document.createElement("canvas"),r=t.getContext("2d"),s=function(e,s,i){t.width=e,t.height=s,r.clearRect(0,0,t.width,t.height);var o=r.createLinearGradient(0,0,t.width,0);o.addColorStop(0,"#F00"),o.addColorStop(1/6,"#FF0"),o.addColorStop(2/6,"#0F0"),o.addColorStop(.5,"#0FF"),o.addColorStop(4/6,"#00F"),o.addColorStop(5/6,"#F0F"),o.addColorStop(1,"#F00"),r.fillStyle=o,r.fillRect(0,0,t.width,t.height);var n=r.createLinearGradient(0,0,0,t.height);switch(i.toLowerCase()){case"s":n.addColorStop(0,"rgba(255,255,255,0)"),n.addColorStop(1,"rgba(255,255,255,1)");break;case"v":n.addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"rgba(0,0,0,1)")}r.fillStyle=n,r.fillRect(0,0,t.width,t.height)};e.elm=t,e.draw=s}else{jsc.initVML();var i=document.createElement("div");i.style.position="relative",i.style.overflow="hidden";var o=document.createElement(jsc._vmlNS+":fill");o.type="gradient",o.method="linear",o.angle="90",o.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var n=document.createElement(jsc._vmlNS+":rect");n.style.position="absolute",n.style.left="-1px",n.style.top="-1px",n.stroked=!1,n.appendChild(o),i.appendChild(n);var a=document.createElement(jsc._vmlNS+":fill");a.type="gradient",a.method="linear",a.angle="180",a.opacity="0";var l=document.createElement(jsc._vmlNS+":rect");l.style.position="absolute",l.style.left="-1px",l.style.top="-1px",l.stroked=!1,l.appendChild(a),i.appendChild(l);var s=function(e,t,r){switch(i.style.width=e+"px",i.style.height=t+"px",n.style.width=l.style.width=e+1+"px",n.style.height=l.style.height=t+1+"px",o.color="#F00",o.color2="#F00",r.toLowerCase()){case"s":a.color=a.color2="#FFF";break;case"v":a.color=a.color2="#000"}};e.elm=i,e.draw=s}return e},createSliderGradient:function(){var e={elm:null,draw:null};if(jsc.isCanvasSupported){var t=document.createElement("canvas"),r=t.getContext("2d"),s=function(e,s,i,o){t.width=e,t.height=s,r.clearRect(0,0,t.width,t.height);var n=r.createLinearGradient(0,0,0,t.height);n.addColorStop(0,i),n.addColorStop(1,o),r.fillStyle=n,r.fillRect(0,0,t.width,t.height)};e.elm=t,e.draw=s}else{jsc.initVML();var i=document.createElement("div");i.style.position="relative",i.style.overflow="hidden";var o=document.createElement(jsc._vmlNS+":fill");o.type="gradient",o.method="linear",o.angle="180";var n=document.createElement(jsc._vmlNS+":rect");n.style.position="absolute",n.style.left="-1px",n.style.top="-1px",n.stroked=!1,n.appendChild(o),i.appendChild(n);var s=function(e,t,r,s){i.style.width=e+"px",i.style.height=t+"px",n.style.width=e+1+"px",n.style.height=t+1+"px",o.color=r,o.color2=s};e.elm=i,e.draw=s}return e},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:function(){var e=function(e,t,r,s,i,o){this.hShadow=e,this.vShadow=t,this.blur=r,this.spread=s,this.color=i,this.inset=!!o};return e.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},e}(),jscolor:function(targetElement,options){function RGB_HSV(e,t,r){e/=255,t/=255,r/=255;var s=Math.min(Math.min(e,t),r),i=Math.max(Math.max(e,t),r),o=i-s;if(0===o)return[null,0,100*i];var n=e===s?3+(r-t)/o:t===s?5+(e-r)/o:1+(t-e)/o;return[60*(6===n?0:n),100*(o/i),100*i]}function HSV_RGB(e,t,r){var s=255*(r/100);if(null===e)return[s,s,s];e/=60,t/=100;var i=Math.floor(e),o=i%2?e-i:1-(e-i),n=s*(1-t),a=s*(1-t*o);switch(i){case 6:case 0:return[s,a,n];case 1:return[a,s,n];case 2:return[n,s,a];case 3:return[n,a,s];case 4:return[a,n,s];case 5:return[s,n,a]}}function detachPicker(){jsc.unsetClass(THIS.targetElement,THIS.activeClass),null!=jsc.picker.wrap.parentNode&&jsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap),delete jsc.picker.owner}function drawPicker(){function setBtnBorder(){var e=THIS.insetColor.split(/\s+/),t=e.length<2?e[0]:e[1]+" "+e[0]+" "+e[0]+" "+e[1];p.btn.style.borderColor=t}if(jQuery(THIS.targetElement).hasClass("arf_editor_basic_colorpicker")||jQuery(THIS.targetElement).hasClass("arfdisablediv"))return!1;var is_disabled=jQuery(THIS.targetElement).parents(".arf_field_type_colorpicker").attr("data-view")||!1;if(0!=is_disabled&&"arf_disable"==is_disabled)return!1;THIS._processParentElementsInDOM(),setTimeout(function(){jQuery(".arf_add_favorite_color").remove(),jQuery(".arf_color_picker_input_div").remove()},100),jsc.picker||(jsc.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:jsc.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:jsc.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span"),temp:document.createElement("div")},jsc.picker.pad.appendChild(jsc.picker.padPal.elm),jsc.picker.padB.appendChild(jsc.picker.pad),jsc.picker.cross.appendChild(jsc.picker.crossBY),jsc.picker.cross.appendChild(jsc.picker.crossBX),jsc.picker.cross.appendChild(jsc.picker.crossLY),jsc.picker.cross.appendChild(jsc.picker.crossLX),jsc.picker.padB.appendChild(jsc.picker.cross),jsc.picker.box.appendChild(jsc.picker.padB),jsc.picker.box.appendChild(jsc.picker.padM),jsc.picker.sld.appendChild(jsc.picker.sldGrad.elm),jsc.picker.sldB.appendChild(jsc.picker.sld),jsc.picker.sldB.appendChild(jsc.picker.sldPtrOB),jsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB),jsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB),jsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS),jsc.picker.box.appendChild(jsc.picker.sldB),jsc.picker.box.appendChild(jsc.picker.sldM),jsc.picker.btn.appendChild(jsc.picker.btnT),jsc.picker.box.appendChild(jsc.picker.btn),jsc.picker.boxB.appendChild(jsc.picker.box),jsc.picker.wrap.appendChild(jsc.picker.boxS),jsc.picker.wrap.appendChild(jsc.picker.boxB)),jsc.picker.color_input_hex_div=document.createElement("div"),jsc.picker.color_input_hex_div.setAttribute("class","color_input_hex_div"),jsc.picker.color_input_hex_div.innerHTML="#",jsc.picker.color_input=document.createElement("input"),jsc.picker.color_input.setAttribute("class","arf_color_picker_input"),jsc.picker.color_input.setAttribute("id","arf_color_picker_input"),jsc.picker.color_input.setAttribute("value",jQuery(THIS.valueElement).attr("value").replace("#","")),jsc.picker.color_input.setAttribute("data-value",jQuery(THIS.valueElement).attr("id")),jsc.picker.color_input.addEventListener("change",function(e){var id=jQuery(this).attr("data-value"),is_item=!1;if(/(itemmeta_(\d+))/gi.test(id)){var elm=jQuery("#"+id)[0];is_item=!0}else if(jQuery("#"+id).hasClass("arf_js_colorpicker"))var elm=jQuery("#"+id)[0];else if(/(upload_btn_color_[\d+]|upload_font_color_[\d+]|star_rating_color_[\d+]|arf_divider_bg_color_[\d+]|like_bg_color_[\d+]|dislike_bg_color_[\d+]|slider_bg_color_[\d+]|slider_bg_color2_[\d+]|slider_handle_color_[\d+])/.test(id))var elm=jQuery("#"+id).prev().find(".arf_coloroption")[0];else if(/(arf_modal_bg_color|arf_modal_btn_bg_color|arf_modal_btn_txt_color)/.test(id))var elm=jQuery("#"+id).parent(".arf_coloroption_sub").find(".arf_coloroption")[0];else if(/field\_[a-zA-Z0-9]{6}\_(\d+)/gi.test(id))var elm=jQuery("[data-fid='"+id+"']")[0];else var elm=jQuery("#"+id).prev()[0];var color="#"+jQuery(this).val();"undefined"!=typeof __JSPICKER&&jQuery(__JSPICKER).each(function(n){var array=__JSPICKER[n];if("undefined"==typeof array)return!0;var target=array.targetElement;elm===target&&(__JSPICKER[n].fromString(color.replace("#","")),eval(array.onFineChange))})}),jsc.picker.color_input.addEventListener("paste",function(event){event.preventDefault();var clipboardData=event.clipboardData.getData("text");clipboardData=clipboardData.replace("#",""),jQuery(this).val(clipboardData).trigger("change");var id=jQuery(this).attr("data-value"),color=jQuery(this).val();if(/(itemmeta_(\d+))/gi.test(id))var elm=jQuery("#"+id)[0];else if(jQuery("#"+id).hasClass("arf_js_colorpicker"))var elm=jQuery("#"+id)[0];else if(/(upload_btn_color_[\d+]|upload_font_color_[\d+]|star_rating_color_[\d+]|arf_divider_bg_color_[\d+]|like_bg_color_[\d+]|dislike_bg_color_[\d+]|slider_bg_color_[\d+]|slider_bg_color2_[\d+]|slider_handle_color_[\d+])/.test(id))var elm=jQuery("#"+id).prev().find(".arf_coloroption")[0];else if(/(arf_modal_bg_color|arf_modal_btn_bg_color|arf_modal_btn_txt_color)/.test(id))var elm=jQuery("#"+id).parent(".arf_coloroption_sub").find(".arf_coloroption")[0];else if(/field\_[a-zA-Z0-9]{6}\_(\d+)/gi.test(id))var elm=jQuery("[data-fid='"+id+"']")[0];else var elm=jQuery("#"+id).prev()[0];"undefined"!=typeof __JSPICKER&&jQuery(__JSPICKER).each(function(n){var array=__JSPICKER[n],target=array.targetElement;elm===target&&(__JSPICKER[n].fromString(color.replace("#","")),eval(array.onFineChange))})}),jsc.picker.color_input_div=document.createElement("div"),jsc.picker.color_input_div.setAttribute("class","arf_color_picker_input_div"),jsc.picker.color_input_div.setAttribute("id","arf_color_picker_input_div"),jsc.picker.color_input_div.appendChild(jsc.picker.color_input_hex_div),jsc.picker.color_input_div.appendChild(jsc.picker.color_input),setTimeout(function(){jsc.picker.box.appendChild(jsc.picker.color_input_div)},200),jsc.picker.fav=document.createElement("div"),jsc.picker.favW=document.createElement("div"),jsc.picker.favB=document.createElement("div"),jsc.picker.favI=document.createElement("i"),jsc.picker.favB.setAttribute("data-value",jQuery(THIS.valueElement).attr("id")),jsc.picker.favI.setAttribute("class","arfa arfa-heart"),jsc.picker.favB.appendChild(jsc.picker.favI),jsc.picker.favW.setAttribute("class","arf_favorite_color_buttons"),jsc.picker.fav.appendChild(jsc.picker.favW),jsc.picker.favB.setAttribute("class","arf_add_favorite_color_btn"),jsc.picker.favB.setAttribute("data-tipso","Add to Favourite"),jsc.picker.favB.setAttribute("title","Add to Favourite"),jsc.picker.favB.setAttribute("id","arf_add_favorite_color_btn");var favorite_colors=getCookie("arf_fav_color[colors]");if(void 0!==favorite_colors&&""!==favorite_colors&&null!==favorite_colors){var fav_cols=favorite_colors.split(",");for(var n in fav_cols){var color=fav_cols[n],div=document.createElement("div");div.setAttribute("class","select_from_fav_color"),div.setAttribute("value",color),div.setAttribute("style","background:"+color),7>n&&jsc.picker.favW.appendChild(div)}}jsc.picker.fav.appendChild(jsc.picker.favB),jsc.picker.fav.setAttribute("class","arf_add_favorite_color"),jsc.picker.fav.setAttribute("id","arf_add_favorite_color"),setTimeout(function(){jsc.picker.box.appendChild(jsc.picker.fav)},200);var p=jsc.picker,displaySlider=!!jsc.getSliderComponent(THIS),dims=jsc.getPickerDims(THIS),crossOuterSize=2*THIS.pointerBorderWidth+THIS.pointerThickness+2*THIS.crossSize,padToSliderPadding=jsc.getPadToSliderPadding(THIS),borderRadius=Math.min(THIS.borderRadius,Math.round(THIS.padding*Math.PI)),padCursor="crosshair";p.wrap.setAttribute("class","arf_js_colorpicker"),p.wrap.style.clear="both",p.wrap.style.width=dims[0]+2*THIS.borderWidth+"px",p.wrap.style.height=dims[1]+2*THIS.borderWidth+65+"px",p.wrap.style.zIndex=THIS.zIndex,p.fav.style.top=dims[1]+2*THIS.borderWidth-5+"px",p.box.style.width=dims[0]+"px",p.box.style.height=dims[1]+65+"px",p.boxS.style.position="absolute",p.boxS.style.left="0",p.boxS.style.top="0",p.boxS.style.width="100%",p.boxS.style.height="100%",jsc.setBorderRadius(p.boxS,borderRadius+"px"),"undefined"!=typeof jsc.picker.rbncls&&null!==jsc.picker.rbncls&&delete jsc.picker.rbncls,p.boxB.style.position="relative",p.boxB.style.border=THIS.borderWidth+"px solid",p.boxB.style.borderColor=THIS.borderColor,p.boxB.style.background=THIS.backgroundColor,jsc.setBorderRadius(p.boxB,borderRadius+"px"),p.padM.style.background=p.sldM.style.background="#FFF",jsc.setStyle(p.padM,"opacity","0"),jsc.setStyle(p.sldM,"opacity","0"),p.pad.style.position="relative",p.pad.style.width=THIS.width+"px",p.pad.style.height=THIS.height+"px",p.padPal.draw(THIS.width,THIS.height,jsc.getPadYComponent(THIS)),p.padB.style.position="absolute",p.padB.style.left=THIS.padding+"px",p.padB.style.top=THIS.padding+"px",p.padB.style.border=THIS.insetWidth+"px solid",p.padB.style.borderColor=THIS.insetColor,p.padM._jscInstance=THIS,p.padM._jscControlName="pad",p.padM.style.position="absolute",p.padM.style.left="0",p.padM.style.top="0",p.padM.style.width=THIS.padding+2*THIS.insetWidth+THIS.width+padToSliderPadding/2+"px",p.padM.style.height=dims[1]+"px",p.padM.style.cursor=padCursor,p.cross.style.position="absolute",p.cross.style.left=p.cross.style.top="0",p.cross.style.width=p.cross.style.height=crossOuterSize+"px",p.crossBY.style.position=p.crossBX.style.position="absolute",p.crossBY.style.background=p.crossBX.style.background=THIS.pointerBorderColor,p.crossBY.style.width=p.crossBX.style.height=2*THIS.pointerBorderWidth+THIS.pointerThickness+"px",p.crossBY.style.height=p.crossBX.style.width=crossOuterSize+"px",p.crossBY.style.left=p.crossBX.style.top=Math.floor(crossOuterSize/2)-Math.floor(THIS.pointerThickness/2)-THIS.pointerBorderWidth+"px",p.crossBY.style.top=p.crossBX.style.left="0",p.crossLY.style.position=p.crossLX.style.position="absolute",p.crossLY.style.background=p.crossLX.style.background=THIS.pointerColor,p.crossLY.style.height=p.crossLX.style.width=crossOuterSize-2*THIS.pointerBorderWidth+"px",p.crossLY.style.width=p.crossLX.style.height=THIS.pointerThickness+"px",p.crossLY.style.left=p.crossLX.style.top=Math.floor(crossOuterSize/2)-Math.floor(THIS.pointerThickness/2)+"px",p.crossLY.style.top=p.crossLX.style.left=THIS.pointerBorderWidth+"px",p.sld.style.overflow="hidden",p.sld.style.width=THIS.sliderSize+"px",p.sld.style.height=THIS.height+"px",p.sldGrad.draw(THIS.sliderSize,THIS.height,"#000","#000"),p.sldB.style.display=displaySlider?"block":"none",p.sldB.style.position="absolute",p.sldB.style.right=THIS.padding+"px",p.sldB.style.top=THIS.padding+"px",p.sldB.style.border=THIS.insetWidth+"px solid",p.sldB.style.borderColor=THIS.insetColor,p.sldM._jscInstance=THIS,p.sldM._jscControlName="sld",p.sldM.style.display=displaySlider?"block":"none",p.sldM.style.position="absolute",p.sldM.style.right="0",p.sldM.style.top="0",p.sldM.style.width=THIS.sliderSize+padToSliderPadding/2+THIS.padding+2*THIS.insetWidth+"px",p.sldM.style.height=dims[1]+"px",p.sldM.style.cursor="default",p.sldPtrIB.style.border=p.sldPtrOB.style.border=THIS.pointerBorderWidth+"px solid "+THIS.pointerBorderColor,p.sldPtrOB.style.position="absolute",p.sldPtrOB.style.left=-(2*THIS.pointerBorderWidth+THIS.pointerThickness)+"px",p.sldPtrOB.style.top="0",p.sldPtrMB.style.border=THIS.pointerThickness+"px solid "+THIS.pointerColor,p.sldPtrS.style.width=THIS.sliderSize+"px",p.sldPtrS.style.height=sliderPtrSpace+"px",p.btn.style.display=THIS.closable?"block":"none",p.btn.style.position="absolute",p.btn.style.left=THIS.padding+"px",p.btn.style.bottom=THIS.padding+"px",p.btn.style.padding="0 15px",p.btn.style.height=THIS.buttonHeight+"px",p.btn.style.border=THIS.insetWidth+"px solid",setBtnBorder(),p.btn.style.color=THIS.buttonColor,p.btn.style.font="12px sans-serif",p.btn.style.textAlign="center";try{p.btn.style.cursor="pointer"}catch(eOldIE){p.btn.style.cursor="hand"}p.btn.onmousedown=function(){THIS.hide()},p.btnT.style.lineHeight=THIS.buttonHeight+"px",p.btnT.innerHTML="",p.btnT.appendChild(document.createTextNode(THIS.closeText)),redrawPad(),redrawSld(),jsc.picker.owner&&jsc.picker.owner!==THIS&&jsc.unsetClass(jsc.picker.owner.targetElement,THIS.activeClass),jsc.picker.owner=THIS,jsc.isElementType(container,"body")?jsc.redrawPosition():jsc._drawPosition(THIS,0,0,"relative",!1),p.wrap.parentNode!=container&&container.appendChild(p.wrap),jsc.setClass(THIS.targetElement,THIS.activeClass),jQuery.isFunction(jQuery().tipso)&&setTimeout(function(){jQuery(".arftooltipster").tipso({position:"bottom",background:"#43B4FB",width:"auto"})},250)}function redrawPad(){switch(jsc.getPadYComponent(THIS)){case"s":var e=1;break;case"v":var e=2}var t=Math.round(THIS.hsv[0]/360*(THIS.width-1)),r=Math.round((1-THIS.hsv[e]/100)*(THIS.height-1)),s=2*THIS.pointerBorderWidth+THIS.pointerThickness+2*THIS.crossSize,i=-Math.floor(s/2);switch(jsc.picker.cross.style.left=t+i+"px",jsc.picker.cross.style.top=r+i+"px",jsc.getSliderComponent(THIS)){case"s":var o=HSV_RGB(THIS.hsv[0],100,THIS.hsv[2]),n=HSV_RGB(THIS.hsv[0],0,THIS.hsv[2]),a="rgb("+Math.round(o[0])+","+Math.round(o[1])+","+Math.round(o[2])+")",l="rgb("+Math.round(n[0])+","+Math.round(n[1])+","+Math.round(n[2])+")";jsc.picker.sldGrad.draw(THIS.sliderSize,THIS.height,a,l),"arf_advanced_color_picker"===jQuery(THIS.styleElement).attr("id")&&jsc.picker.sldGrad.draw(THIS.sliderSize,THIS.height+20,a,l);break;case"v":var c=HSV_RGB(THIS.hsv[0],THIS.hsv[1],100),a="rgb("+Math.round(c[0])+","+Math.round(c[1])+","+Math.round(c[2])+")",l="#000";jsc.picker.sldGrad.draw(THIS.sliderSize,THIS.height,a,l),"arf_advanced_color_picker"===jQuery(THIS.styleElement).attr("id")&&jsc.picker.sldGrad.draw(THIS.sliderSize,THIS.height+20,a,l)}}function redrawSld(){var e=jsc.getSliderComponent(THIS);if(e){switch(e){case"s":var t=1;break;case"v":var t=2}var r=Math.round((1-THIS.hsv[t]/100)*(THIS.height-1));jsc.picker.sldPtrOB.style.top=r-(2*THIS.pointerBorderWidth+THIS.pointerThickness)-Math.floor(sliderPtrSpace/2)+"px"}}function isPickerOwner(){return jsc.picker&&jsc.picker.owner===THIS}function blurValue(){THIS.importColor()}this.value=null,this.valueElement=targetElement,this.styleElement=targetElement,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#EBEBEB",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1e3,this.container=null;for(var opt in options)options.hasOwnProperty(opt)&&(this[opt]=options[opt]);if(this.hide=function(){isPickerOwner()&&detachPicker()},this.show=function(){drawPicker()},this.redraw=function(){isPickerOwner()&&drawPicker()},this.importColor=function(){this.valueElement&&jsc.isElementType(this.valueElement,"input")?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(jsc.leaveValue|jsc.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,jsc.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(jsc.leaveValue|jsc.leaveStyle)):this.exportColor()},this.exportColor=function(e){if(!(e&jsc.leaveValue)&&this.valueElement){var t=this.toString();this.uppercase&&(t=t.toUpperCase()),this.hash&&(t="#"+t),"string"==typeof this.valueElement&&(this.valueElement=jQuery("#"+this.valueElement)[0]),jsc.isElementType(this.valueElement,"input")?this.valueElement.value=t:this.valueElement.innerHTML=t}e&jsc.leaveStyle||this.styleElement&&(this.styleElement.style.backgroundImage="none",hasClass(this.styleElement,"arf_editor_colorpicker")?this.styleElement.style.backgroundColor="#"+this.toString()+" !important":this.styleElement.style.backgroundColor="#"+this.toString(),this.styleElement.style.color=this.isLight()?"#000":"#FFF"),e&jsc.leavePad||!isPickerOwner()||redrawPad(),e&jsc.leaveSld||!isPickerOwner()||redrawSld()},this.fromHSV=function(e,t,r,s){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==r){if(isNaN(r))return!1;r=Math.max(0,Math.min(100,this.maxV,r),this.minV)}this.rgb=HSV_RGB(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===r?this.hsv[2]:this.hsv[2]=r),this.exportColor(s)},this.fromRGB=function(e,t,r,s){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==r){if(isNaN(r))return!1;r=Math.max(0,Math.min(255,r))}var i=RGB_HSV(null===e?this.rgb[0]:e,null===t?this.rgb[1]:t,null===r?this.rgb[2]:r);null!==i[0]&&(this.hsv[0]=Math.max(0,Math.min(360,i[0]))),0!==i[2]&&(this.hsv[1]=null===i[1]?null:Math.max(0,this.minS,Math.min(100,this.maxS,i[1]))),this.hsv[2]=null===i[2]?null:Math.max(0,this.minV,Math.min(100,this.maxV,i[2]));var o=HSV_RGB(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=o[0],this.rgb[1]=o[1],this.rgb[2]=o[2],this.exportColor(s)},this.fromString=function(e,t){var r;if(r=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i))return 6===r[1].length?this.fromRGB(parseInt(r[1].substr(0,2),16),parseInt(r[1].substr(2,2),16),parseInt(r[1].substr(4,2),16),t):this.fromRGB(parseInt(r[1].charAt(0)+r[1].charAt(0),16),parseInt(r[1].charAt(1)+r[1].charAt(1),16),parseInt(r[1].charAt(2)+r[1].charAt(2),16),t),!0;if(r=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var s,i,o,n=r[1].split(","),a=/^\s*(\d*)(\.\d+)?\s*$/;if(n.length>=3&&(s=n[0].match(a))&&(i=n[1].match(a))&&(o=n[2].match(a))){var l=parseFloat((s[1]||"0")+(s[2]||"")),c=parseFloat((i[1]||"0")+(i[2]||"")),d=parseFloat((o[1]||"0")+(o[2]||""));return this.fromRGB(l,c,d,t),!0}}return!1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return"#"+this.toString().toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")"},this.isLight=function(){return.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]>127.5},this._processParentElementsInDOM=function(){if(!this._linkedElementsProcessed){this._linkedElementsProcessed=!0;var e=this.targetElement;do{var t=jsc.getStyle(e);t&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(e._jscEventsAttached||(jsc.attachEvent(e,"scroll",jsc.onParentScroll),e._jscEventsAttached=!0))}while((e=e.parentNode)&&!jsc.isElementType(e,"body"))}},"string"==typeof targetElement){var id=targetElement,elm=document.getElementById(id);elm?this.targetElement=elm:jsc.warn("Could not find target element with ID '"+id+"'")}else targetElement?this.targetElement=targetElement:jsc.warn("Invalid target element: '"+targetElement+"'");if(this.targetElement._jscLinkedInstance)return void jsc.warn("Cannot link jscolor twice to the same element. Skipping.");this.targetElement._jscLinkedInstance=this,this.valueElement=jsc.fetchElement(this.valueElement),this.styleElement=jsc.fetchElement(this.styleElement);var THIS=this,container=this.container?jsc.fetchElement(this.container):document.getElementsByTagName("body")[0],sliderPtrSpace=3;if(jsc.isElementType(this.targetElement,"button"))if(this.targetElement.onclick){var origCallback=this.targetElement.onclick;this.targetElement.onclick=function(e){return origCallback.call(this,e),!1}}else this.targetElement.onclick=function(){return!1};if(this.valueElement&&jsc.isElementType(this.valueElement,"input")){var updateField=function(){THIS.fromString(THIS.valueElement.value,jsc.leaveValue),jsc.dispatchFineChange(THIS)};jsc.attachEvent(this.valueElement,"keyup",updateField),jsc.attachEvent(this.valueElement,"input",updateField),jsc.attachEvent(this.valueElement,"blur",blurValue),this.valueElement.setAttribute("autocomplete","off")}this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}};return jsc.jscolor.lookupClass="jscolor",jsc.jscolor.installByClassName=function(e){var t=document.getElementsByTagName("input"),r=document.getElementsByTagName("button");jsc.tryInstallOnElements(t,e),jsc.tryInstallOnElements(r,e);var s=document.getElementsByTagName("div");jsc.tryInstallOnElements(s,e)},jsc.register(),jsc.jscolor}());